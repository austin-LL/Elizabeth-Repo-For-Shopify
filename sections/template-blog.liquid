{% paginate blog.articles by section.settings.posts_per_page %}
  <div class="py-12 bg-gray-100">
    <div class="container">
      <h1 class="text-center hdg-2">{{ section.settings.blog_title }}</h1>
    </div>
  </div>

  <div class="py-12">
    <div class="container">
      <div class="grid grid-cols-3 gap-8">
        {% for article in blog.articles %}
          <div class="border border-gray-300 bg-gray-100 relative group flex flex-col">
            <div class="overflow-hidden flex-initial">
              <div class="image-wrapper group-hover:scale-110 duration-200">
                {% if article.image != blank %}
                  <img src="{{ article.image | image_url: width: 1000 }}" alt="{{ article.image.alt }}" class="w-full h-80 md:h-96 object-cover object-center" height="auto" width="100%">
                {% else %}
                  {{ 'image' | placeholder_svg_tag: 'w-full h-80 md:h-96 object-cover object-center' }}
                {% endif %}
              </div>
            </div>

            <div class="p-6 flex-1 flex flex-col items-start justify-between gap-y-5">
              <div class="flex-initial">
                <div class="mb-5">
                  <h2 class="paragraph-large font-semibold">{{ article.title }}</h2>
                  <p class="paragraph-small text-gray-500"><time datetime="{{ article.published_at | date: "%Y-%m-%d" }}">{{ article.published_at | date: "%B %-d, %Y" }}</time></p>
                </div>

                {% if article.excerpt.size > 0 %}
                  <p class="paragraph-default mb-5 last:mb-0">{{ article.excerpt | strip_html | truncatewords: 15 }}</p>
                {% else %}
                  <p class="paragraph-default mb-5 last:mb-0">{{ article.content | strip_html | truncatewords: 15 }}</p>
                {% endif %}
              </div>

              <a href="{{ article.url }}" class="inline-flex items-center gap-x-2 hover:underline before:absolute before:inset-0 btn">
                {{ section.settings.blog_read_more }}
              </a>
            </div>
          </div>
        {% endfor %}
      </div>

      {% render 'pagination', pagination: paginate %}
    </div>
  </div>
{% endpaginate %}

{% schema %}
  {
    "name": "Blog",
    "settings": [
      {
        "type": "text",
        "id": "blog_title",
        "default": "Blog",
        "label": "Title"
      },
      {
        "type": "range",
        "id": "posts_per_page",
        "label": "Posts per page",
        "default": 3,
        "min": 1,
        "max": 12
      },
      {
        "type": "text",
        "id": "blog_read_more",
        "default": "Read more",
        "label": "Read More Text"
      }
    ]
  }
{% endschema %}